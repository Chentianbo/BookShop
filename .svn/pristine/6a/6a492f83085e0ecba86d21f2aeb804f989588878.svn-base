@model JN.Data.User
@{
    var sysEntity = MvcCore.Unity.Get<JN.Data.Service.ISysSettingService>().Single(1);
    var cacheSysParam = MvcCore.Unity.Get<JN.Data.Service.ISysParamService>().ListCache("sysparams", x => x.ID < 10000);
    Layout = "~/Areas/UserCenter/Views/Shared/_Layout" + sysEntity.Theme + ".cshtml";
}

<div class="mainarea" id="mainarea">
    <div class="maintitle">
        <div class="maintitleleft">
            <h4>@T("个人资料") </h4>
        </div>
        <div class="maintitleright">
            <a href="/usercenter/home">@T("首页")</a>
            &nbsp;/&nbsp;
            <a href="#">@T("账号管理")</a>
        </div>
    </div>

            <div class="mainoprate">

                

                        <div>
                            <div class="widget widget-body-white padding-none">
                                <div class="widget-head">
                                    <h4 class="heading">帐户详情</h4>
                                </div>
                                <form class="form-horizontal margin-none" method="post">
                                    <div class="widget-body">
                                        <div class="form-group">
                                            <label class="col-md-4 control-label">用户名：</label>
                                            <div class="col-md-8">
                                                <div class="form-control-static">@Model.UserName</div>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-4 control-label">姓名：</label>
                                            <div class="col-md-8">
                                                <div class="form-control-static">@Model.RealName</div>
                                            </div>
                                        </div>

                                        <div class="form-group">
                                <label class="col-md-4 control-label">会员级别：</label>
                                <div class="col-md-8">
                                    <div class="form-control-static">@(typeof(JN.Data.Enum.UserLeve).GetEnumDesc(Model.UserLevel))</div>
                                </div>
                            </div>
                                        @*<div class="form-group">
                                <label class="col-md-4 control-label">电邮地址</label>
                                <div class="col-md-8">
                                    <div class="form-control-static">@Model.Email</div>
                                </div>
                            </div>*@
                                        <div class="form-group">
                                            <label class="col-md-4 control-label">手机号码：</label>
                                            <div class="col-md-8">
                                                <div class="form-control-static">@Model.Mobile</div>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-4 control-label">推荐人：</label>
                                            <div class="col-md-8">
                                                <div class="form-control-static">@Model.RefereeUser</div>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-4 control-label">@T("身份证截图")：</label>
                                            <div class="col-md-8">
                                                <img src="@Model.CardIdUrl" height="120" />
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            @*<div class="widget widget-body-white padding-none">
                                <div class="widget-head">
                                    <h4 class="heading">安全密码</h4>
                                </div>

                                <form class="form-horizontal margin-none" id="frmChangePwd2" method="post">
                                    <div class="widget-body">
                                        <div class="form-group">
                                            <label class="col-md-4 control-label" for="firstname">新安全密码</label>
                                            <div class="col-md-8">
                                                <div class="controls">
                                                    <input type="password" class="form-control error" name="newpassword2" />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-4 control-label" for="firstname">确认安全密码</label>
                                            <div class="col-md-8">
                                                <div class="controls">
                                                    <input type="password" class="form-control error" name="connewpassword2" />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-4 control-label">安全密码</label>
                                            <div class="col-md-8">
                                                <div class="controls">
                                                    <input class="form-control" id="ejmm" name="safepwd" value="" type="password">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <footer class="data-footer innerAll half text-right clearfix">
                                        <button type="button" class="btn btn-primary" id="btnChangePwd2">更新</button>
                                    </footer>
                                </form>

                            </div>

                            <div class="widget widget-body-white padding-none">
                                <div class="widget-head">
                                    <h4 class="heading">帐户密码</h4>
                                </div>
                                <form class="form-horizontal margin-none" id="frmChangePwd" method="post">
                                    <div class="widget-body">
                                        <div class="form-group">
                                            <label class="col-md-4 control-label" for="firstname">新登录密码</label>
                                            <div class="col-md-8">
                                                <div class="controls">
                                                    <input class="form-control" type="password" name="newpassword" btvd-type="required">
                                                </div>
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label class="col-md-4 control-label" for="firstname">确认登录密码</label>
                                            <div class="col-md-8">
                                                <div class="controls">
                                                    <input class="form-control" type="password" name="connewpassword" btvd-type="required">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-4 control-label">安全密码</label>
                                            <div class="col-md-8">
                                                <div class="controls">
                                                    <input class="form-control" type="password" name="vierypassword" id="opassword" btvd-type="required">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <footer class="data-footer innerAll half text-right clearfix">
                                        <button type="button" class="btn btn-primary" id="btnChangePwd">更新</button>
                                    </footer>
                                </form>
                            </div>*@
                        </div>
                        <div>
                            <div class="widget widget-body-white padding-none" id="payment_info">
                                <div class="widget-head">
                                    <h4 class="heading">银行资料</h4>
                                </div>
                                <form class="form-horizontal margin-none" id="frmEdit" method="post">
                                    <div class="widget-body">
                                        <div class="form-group">
                                            <label class="col-md-4 control-label" for="firstname">开户银行：</label>
                                            <div class="col-md-8"><div class="form-control-static"><input class="form-control" type="text" name="bankname" value="@Model.BankName" btvd-type="required"></div></div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-4 control-label" for="firstname">分行或支行的名称：</label>
                                            <div class="col-md-8"><div class="form-control-static"><input class="form-control" type="text" name="bankofdeposit" value="@Model.BankOfDeposit" btvd-type="required"></div></div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-4 control-label" for="firstname">开户名：</label>
                                            <div class="col-md-8"><div class="form-control-static"><input class="form-control" type="text" name="bankuser" value="@Model.BankUser" btvd-type="required"></div></div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-4 control-label" for="firstname">银行卡号：</label>
                                            <div class="col-md-8"><div class="form-control-static"><input class="form-control" type="text" name="bankcard" value="@Model.BankCard" btvd-type="required"></div></div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-4 control-label" for="firstname">支付宝：</label>
                                            <div class="col-md-8"><div class="form-control-static"><input class="form-control" type="text" name="alipay" value="@Model.AliPay" btvd-type="required"></div></div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-4 control-label" for="firstname">微信号：</label>
                                            <div class="col-md-8"><div class="form-control-static"><input class="form-control" type="text" name="weixin" value="@Model.WeiXin" btvd-type="required"></div></div>
                                        </div>
                                        @*<div class="form-group">
                                            <label class="col-md-4 control-label" for="firstname">安全密码</label>
                                            <div class="col-md-8"><div class="form-control-static"><input class="form-control" type="password" name="vierypassword" btvd-type="required"></div></div>
                                        </div>*@
                                    </div>
                                    @*<footer class="data-footer innerAll half text-right clearfix">
                                        <button type="button" class="btn btn-primary" id="btnEdit">更新</button>
                                    </footer>*@
                                </form>
                            </div>




                            @*<div class="widget widget-body-white padding-none">
                    <div class="widget-head">
                        <h4 class="heading">终止帐号</h4>
                    </div>
                    <div class="widget-body">
                        如果您想终止帐号， 请按以下按钮.<br>
                    </div>
                    <footer class="data-footer innerAll half text-right clearfix">
                        <a class="btn btn-sm btn-danger" id="terminate-account" href="#">终止服务</a>
                    </footer>
                </div>*@
                        </div>
                 
                <!--
                <div class="row">
                    <div class="form-group col-lg-6">
                        <label for="infoCode">手机验证码<font color="red">(当原手机号不为"13000000000"时此处必须填写!)</font></label>
                        <input type="text" name="infoCode" id="infoCode" class="form-control" placeholder="请输入手机接收到的验证码">
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-lg-12">
                        <label><font color="red">!!因系统用户众多,而且政府对短信监管过滤比较严格,所以短信接收时间有比较大的延迟,请超过2分钟后再重新发送验证码!</font></label>
                    </div>
                </div>
                 -->

            </div>
        </div>
<script src="~/js/jquery.form.js"></script>

@*<script src="~/Scripts/jquery.unobtrusive-ajax.min.js"></script>*@
<script type="text/javascript">
    $("#btnEdit").click(function () {
        $("#frmEdit").ajaxSubmit({
            url: "@Url.Action("Modify")",
            type: "post",
            success: function (data) {
                if (data.Status == 200) {
                    alert("修改成功，即将为您返回当前页！");
                    location.href = "@(Url.Action("Modify"))";
                } else {
                    alert("修改失败：" + data.Message);
                }
            },
            error: function (error) {
                alert(error);
            }
        });
    });
    $("#btnChangePwd").click(function () {
        $("#frmChangePwd").ajaxSubmit({
            url: "@Url.Action("ChangePassword")",
            type: "post",
            success: function (data) {
                if (data.Status == 200) {
                    alert("修改成功，即将为您返回当前页！");
                    location.href = "@(Url.Action("Modify"))";
                } else {
                    alert("修改失败：" + data.Message);
                }
            },
            error: function (error) {
                alert(error);
            }
        });
    });
    $("#btnChangePwd2").click(function () {
        $("#frmChangePwd2").ajaxSubmit({
            url: "@Url.Action("ChangePassword2")",
            type: "post",
        success: function (data) {
            if (data.Status == 200) {
                alert("修改成功，即将为您返回当前页！");
                location.href = "@(Url.Action("Modify"))";
            } else {
                alert("修改失败：" + data.Message);
            }
        },
        error: function (error) {
            alert(error);
        }
    });
    });
</script>

